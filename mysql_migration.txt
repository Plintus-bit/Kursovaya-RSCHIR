create table good_subtypes (id integer not null auto_increment, name varchar(255), parent_id integer, primary key (id))
create table goods (id integer not null auto_increment, article integer, cost integer, counts integer, descript varchar(255), name varchar(255), url varchar(255), subtype_id integer, primary key (id))
create table good_types (id integer not null auto_increment, name varchar(255), url varchar(255), primary key (id))
create table ingredients (id integer not null auto_increment, name varchar(255), primary key (id))
create table ing_structures (id integer not null auto_increment, good_id integer, ing_id integer, primary key (id))
create table method_types (id integer not null auto_increment, name varchar(255), primary key (id))
create table nutritions (id integer not null auto_increment, caloric float(23), carbhyd float(23), diet_fiber float(23), fats float(23), proteins float(23), water float(23), good_id integer, primary key (id))
create table order_good_structs (id integer not null auto_increment, count integer, good_id integer, order_id integer, primary key (id))
create table order_statuses (id integer not null auto_increment, name varchar(255), primary key (id))
create table product_methods (id integer not null auto_increment, address varchar(255), method_id integer, primary key (id))
create table user_role (user_id bigint not null, roles varchar(255))
create table user_orders (id integer not null auto_increment, cust_phone varchar(255), order_date datetime(6), customer_id bigint, prm_id integer, status_id integer, primary key (id))
create table usr (id bigint not null auto_increment, activation_code varchar(255), active bit not null, email varchar(255), password varchar(255), username varchar(255), primary key (id))
alter table goods add constraint UK_2vb58h2ucixkc634yaksurjy4 unique (article)
alter table ingredients add constraint UK_j6tsl15xx76y4kv41yxr4uxab unique (name)
alter table method_types add constraint UK_l24o2c4myfcws2vcbf54d6nq7 unique (name)
alter table order_statuses add constraint UK_p14tnvp6d460yt9akmq14bigx unique (name)
alter table goods add constraint FKerqkw3d1a9yw64u7qsil8hluo foreign key (subtype_id) references good_subtypes (id)
alter table good_subtypes add constraint FK66a15llwiu3ei2lah2dfl3u0r foreign key (parent_id) references good_types (id)
alter table ing_structures add constraint FK6tcs854kf72a0jco1otph6ynr foreign key (good_id) references goods (id)
alter table ing_structures add constraint FKr04295oy2khibbcws8154m3ai foreign key (ing_id) references ingredients (id)
alter table nutritions add constraint FKogfatwkx8xbyv00ey7hbt0rrm foreign key (good_id) references goods (id)
alter table order_good_structs add constraint FKbtivq48xv30nboqxlv4fkyaod foreign key (good_id) references goods (id)
alter table order_good_structs add constraint FKt2wgbetgh975mxhg5hrbrptem foreign key (order_id) references user_orders (id)
alter table product_methods add constraint FKfn9eoipb09klcnd1g9765247x foreign key (method_id) references method_types (id)
alter table user_role add constraint FKfpm8swft53ulq2hl11yplpr5 foreign key (user_id) references usr (id)
alter table user_orders add constraint FKmjq4qt142d1rs0b8b98cdxla7 foreign key (customer_id) references usr (id)
alter table user_orders add constraint FK1rivdddoylyn2a7kbn96dwapl foreign key (prm_id) references product_methods (id)
alter table user_orders add constraint FK4nnksf16i9lxo9x5xkrs01qdw foreign key (status_id) references order_statuses (id)